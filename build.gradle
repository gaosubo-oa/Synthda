/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.5/userguide/tutorial_java_projects.html
 */
group 'com.xoa'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'war'
sourceCompatibility = 1.8
webAppDirName = 'WebRoot'    // 设置 WebApp 根目录
// 设置 Java 源码所在目录
sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'src'
        }
    }
}

// In this section you declare where to find the dependencies of your project
// https://developer.aliyun.com/mvn/guide 阿里云仓库地址
repositories {

    maven {
        url "https://maven.aliyun.com/repository/central"
    }
    maven {
        url "https://maven.aliyun.com/repository/public"
    }
    maven {
        url "https://maven.aliyun.com/repository/google"
    }
    maven {
        url "https://maven.aliyun.com/repository/gradle-plugin"
    }
    maven {
        url "https://maven.aliyun.com/repository/spring"
    }
    maven {
        url "https://maven.aliyun.com/repository/spring-plugin"
    }
    maven {
        url "https://maven.aliyun.com/repository/grails-core"
    }
    maven {
        url "https://maven.aliyun.com/repository/apache-snapshots"
    }
    mavenCentral()
}
// 读取config文件夹中对应的配置文件
ext {
    def prop = new Properties();
    file("src/jdbc-sql.properties")
            .withInputStream {
        prop.load(it)
    }
    prop.each {
        project.extensions.add("$it.key", it.value);
    }
}
configurations {
    mybatisGenerator
}

// In this section you declare the dependencies for your production and test code
dependencies {
    // The production code uses the SLF4J logging API at compile time
    providedCompile(fileTree(dir:'WebRoot/WEB-INF/lib',include:['*.jar']))

    compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.13.2'
    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.2'
    compile group: 'com.google.guava', name: 'guava', version:'19.0'

    //* spring 配置 *//
    compile group: 'org.springframework', name: 'spring-aop', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-aspects', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-beans', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-context',version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-context-support', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-core', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-instrument', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-instrument-tomcat', version: '4.3.30.RELEASE'
    compile group: 'org.springframework', name: 'spring-jdbc', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-jms', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-messaging', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-orm', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-oxm', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-test', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-tx', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-web', version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-webmvc',version: '5.3.18'
    compile group: 'org.springframework', name: 'spring-webmvc-portlet',version: '4.3.30.RELEASE'
    compile group: 'org.springframework', name: 'spring-websocket',version: '5.3.18'

    compile group: 'redis.clients', name: 'jedis', version: '2.9.0'
    compile group: 'org.springframework.data', name: 'spring-data-redis', version: '1.8.12.RELEASE'
    compile group: 'org.springframework.session', name: 'spring-session', version: '1.3.3.RELEASE'

    //* commons 配置 *//
    compile group: 'org.apache.commons', name: 'commons-pool2', version: '2.4.2'
    compile group: 'commons-codec', name: 'commons-codec', version: '1.13'
    //   compile group: 'org.apache.commons', name: 'commons-collections4', version: '4.3'
    compile group: 'org.apache.commons', name: 'commons-compress', version: '1.19'
    compile group: 'org.apache.commons', name: 'commons-email', version: '1.2'
    //   compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.3.2'
    compile group: 'commons-logging', name: 'commons-logging', version: '1.2'
    compile group: 'org.apache.commons', name: 'commons-math3', version: '3.6.1'
    compile group: 'org.apache.commons', name: 'commons-text', version: '1.10.0'
    compile group: 'commons-discovery', name: 'commons-discovery', version: '0.5'
    compile group: 'commons-fileupload', name: 'commons-fileupload', version: '1.3.1'
    compile group: 'commons-httpclient', name: 'commons-httpclient', version: '3.1'
    compile group: 'commons-io', name: 'commons-io', version: '2.4'
    compile group: 'commons-beanutils', name: 'commons-beanutils', version: '1.8.0'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.1'


    //* poi配置  *//
    compile group: 'org.apache.poi', name: 'poi', version: '4.1.1'
    compile group: 'org.apache.poi', name: 'poi-examples', version: '4.1.1'
    compile group: 'org.apache.poi', name: 'poi-excelant', version: '4.1.1'
    compile group: 'org.apache.poi', name: 'poi-ooxml', version: '4.1.1'
    compile group: 'org.apache.poi', name: 'poi-ooxml-schemas', version: '4.1.1'
    compile group: 'org.apache.poi', name: 'poi-scratchpad', version: '4.1.1'
    compile group: 'com.deepoove', name: 'poi-tl', version: '1.6.0'
    compile group: 'org.apache.poi', name: 'ooxml-schemas', version: '1.4'

    //* webservice cxf 配置 *//
    compile group: 'org.apache.cxf', name: 'cxf-core', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-bindings-soap', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-databinding-jaxb', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-frontend-jaxws', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-frontend-simple', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-transports-http', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-transports-udp', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-ws-addr', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-ws-policy', version:'3.1.16'
    compile group: 'org.apache.cxf', name: 'cxf-rt-wsdl', version:'3.1.16'

    //* 其他依赖配置 *//
    compile group: 'javax.activation', name: 'activation', version: '1.1.1'
    /*compile group: 'org.apache.activemq', name: 'activemq-all', version: '5.9.1'*/
    compile group: 'antlr', name: 'antlr', version: '2.7.7'
    compile group: 'aopalliance', name: 'aopalliance', version: '1.0'
    compile group: 'org.aspectj', name: 'aspectjrt', version: '1.7.4'
    compile group: 'org.aspectj', name: 'aspectjweaver', version: '1.7.4' // runTimeOnly
    compile group: 'org.apache.axis', name: 'axis', version: '1.4'
    compile group: 'com.google.zxing', name: 'core', version: '3.0.0'
    compile group: 'dom4j', name: 'dom4j', version: '1.6.1'
    compile group: 'com.alibaba', name: 'druid', version: '1.1.17'
    compile group: 'net.sf.ehcache', name: 'ehcache-core', version: '2.6.8'
    compile group: 'net.sf.ezmorph', name: 'ezmorph', version: '1.0.6'
    compile group: 'com.alibaba', name: 'fastjson', version: '1.2.83'
    compile group: 'org.apache.httpcomponents', name: 'fluent-hc', version: '4.2.1'
    compile group: 'org.apache.pdfbox', name: 'fontbox', version: '2.0.15'
    compile group: 'org.freemarker', name: 'freemarker', version: '2.3.20'
    compile group: 'com.google.code.gson', name: 'gson', version: '2.8.5'
    compile group: 'org.hamcrest', name: 'hamcrest-core', version: '1.3' // test
    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.13'
    compile group: 'org.apache.httpcomponents', name: 'httpclient-cache', version: '4.5.13'
    compile group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.4.4'
    compile group: 'org.apache.httpcomponents', name: 'httpmime', version: '4.5.13'
    compile group: 'com.ibatis', name: 'ibatis2-common', version: '2.1.7.597'
    compile group: 'org.javassist', name: 'javassist', version: '3.15.0-GA'
    compile group: 'com.sun.mail', name: 'javax.mail', version: '1.6.2'
    compile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'
    compile group: 'com.sun.xml.bind', name: 'jaxb-core', version: '2.3.0.1'
    compile group: 'com.sun.xml.bind', name: 'jaxb-impl', version: '2.3.2'
    compile group: 'javax.xml', name: 'jaxrpc', version: '1.1'
    compile group: 'org.jboss.logging', name: 'jboss-logging', version: '3.1.0.GA'
    compile group: 'org.jboss.spec.javax.transaction', name: 'jboss-transaction-api_1.1_spec', version: '1.0.0.Final'
    compile group: 'org.jdom', name: 'jdom', version: '1.1'
    compile group: 'org.jdom', name: 'jdom2', version: '2.0.6'
    compile group: 'joda-time', name: 'joda-time', version: '2.10.8'
    compile group: 'net.sf.json-lib', name: 'json-lib', version: '2.4',classifier:'jdk15'
    compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1'
    compile group: 'org.jsoup', name: 'jsoup', version: '1.8.3'
    compile group: 'javax.servlet', name: 'jstl', version: '1.1.0'
    compile group: 'org.apache.neethi', name: 'neethi', version: '3.1.1'
    compile group: 'com.squareup.okhttp3', name: 'okhttp', version: '3.14.2'
    compile group: 'com.squareup.okio', name: 'okio', version: '1.17.2'

    compile group: 'org.apache.pdfbox', name: 'pdfbox', version: '2.0.15'
    compile group: 'org.apache.pdfbox', name: 'pdfbox-tools', version: '2.0.15'
    compile group: 'com.xk72', name: 'pherialize', version: '1.2.4'
    compile group: 'org.sction', name: 'phprpc', version: '3.0.2'
    compile group: 'com.belerweb', name: 'pinyin4j', version: '2.5.0'

    compile group: 'org.quartz-scheduler', name: 'quartz', version: '2.3.2'
    compile group: 'org.quartz-scheduler', name: 'quartz-jobs', version: '2.3.2'
    compile group: 'javax.xml.soap', name: 'saaj-api', version: '1.3'
    compile group: 'javax.servlet', name: 'servlet-api', version: '2.5'
    compile group: 'org.hyperic', name: 'sigar', version: '1.6.5.132'
    compile group: 'apache-taglibs', name: 'standard', version: '1.1.2'
    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '9.0.43' // lib包中的是9.0.16 但是该版本有漏洞 这里升级到43
    compile group: 'com.blingblingbang', name: 'ueditor', version: '1.1.2'
    compile group: 'org.apache.velocity', name: 'velocity', version: '1.7'
    compile group: 'xalan', name: 'xalan', version: '2.7.0'
    compile group: 'fr.opensagres.xdocreport', name: 'xdocreport', version: '2.0.2'
    compile group: 'org.apache.xmlbeans', name: 'xmlbeans', version: '3.1.0'
    compile group: 'org.apache.ws.xmlschema', name: 'xmlschema-core', version: '2.2.3'

    //引入表情转译依赖
    compile group: 'com.vdurmont', name: 'emoji-java', version: '5.1.1'


    // log4j
    compile group: 'com.lmax', name: 'disruptor', version: '3.4.2'
    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.1'
    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.17.1'
    compile group: 'org.apache.logging.log4j', name: 'log4j-web', version: '2.17.1'
    compile group: 'org.apache.logging.log4j', name: 'log4j-1.2-api', version: '2.17.1'
    compile group: 'org.apache.logging.log4j', name: 'log4j-slf4j-impl', version: '2.17.1'




    // mybatis
    compile group: 'org.mybatis', name: 'mybatis', version: '3.4.4'
    compile group: 'com.baomidou', name: 'mybatis-plus', version: '2.1.0'
    compile group: 'org.mybatis', name: 'mybatis-spring', version: '1.3.1'

    // 推送相关
    compile group: 'cn.jpush.api', name: 'jiguang-common', version: '1.1.5'
    compile group: 'cn.jpush.api', name: 'jpush-client', version: '3.3.11'
    compile group: 'com.meizu.flyme', name: 'push-server-sdk', version: '1.2.7.20180307_release'

    // open office
    compile group: 'org.openoffice', name: 'juh', version: '3.2.1'
    compile group: 'org.openoffice', name: 'ridl', version: '3.2.1'
    compile group: 'org.openoffice', name: 'unoil', version: '3.2.1'

    // 数据库相关
    // mysql
    compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.21'
    // Oracle
    // compile group: 'com.oracle', name: 'ojdbc14', version: '10.2.0.3.0'
    // 达梦
    //compile group: 'com.dameng', name: 'Dm7JdbcDriver17', version: '7.6.0.77'
    // 人大金仓
    //compile group: 'com.kingbase', name: 'kingbase8', version: '8.2.0'

    //* itext配置  *//
    compile group: 'com.itextpdf', name: 'itextpdf', version: '5.5.10'
    compile group: 'com.itextpdf', name: 'barcodes', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'io', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'layout', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'kernel', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'forms', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'svg', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'styled-xml-parser', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'pdfa', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'sign', version: '7.1.15'

    compile group: 'com.itextpdf', name: 'font-asian', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'hyph', version: '7.1.15'
    compile group: 'com.itextpdf', name: 'pdftest', version: '7.1.15'

    compile group: 'com.itextpdf', name: 'html2pdf', version: '2.1.2'
    compile group: 'com.lowagie', name: 'itext', version: '4.2.1'

    // 签章相关 部分包和itext关联
    //compile group: 'org.bouncycastle', name: 'bcmail-jdk15', version: '1.68'
    //compile group: 'org.bouncycastle', name: 'bcprov-ext-jdk15', version: '1.68'
    //compile group: 'org.bouncycastle', name: 'bctsp-jdk15', version: '1.68'
    compile group: 'org.conscrypt', name: 'conscrypt-openjdk-uber', version: '2.1.0'

    //结巴分词
    implementation 'com.huaban:jieba-analysis:1.0.2'

    //二维码
    implementation 'com.google.zxing:core:3.3.0'
    implementation 'com.google.zxing:javase:3.3.0'


    //hutool
    implementation 'cn.hutool:hutool-all:5.8.11'

    //OpenAI-Java
    ///implementation 'com.swordintent.chatgpt:web-api:1.0.0'

    //Mqtt
    compile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version: '1.2.5'

     //lombok
    // compileOnly 'org.projectlombok:lombok:1.18.8'
    // compile 'com.squareup.okhttp3:okhttp:3.14.2'
    // compile 'com.squareup.okhttp3:okhttp:3.4.1'
    // compile 'com.squareup.okio:okio:1.11.0'

     compile group: 'com.alibaba', name: 'fastjson', version:'1.2.41'



    testCompile 'junit:junit:4.12'
    mybatisGenerator 'org.mybatis.generator:mybatis-generator-core:1.3.2'
    mybatisGenerator 'mysql:mysql-connector-java:8.0.21'

    implementation 'io.jsonwebtoken:jjwt:0.9.0'

    implementation 'org.sejda.imageio:webp-imageio:0.1.6'

    //腾讯云
    implementation 'com.github.qcloudsms:qcloudsms:1.0.6'
    implementation 'com.tencentcloudapi:tencentcloud-sdk-java:3.1.754'



}

// 利用ant创建一个自动生成MyBatis目录文件的task
task mybatisGenerate{
    doLast {
        ant.properties['targetProject'] = projectDir.path
        ant.properties['jarDirection'] = project['jdbc.jarDirection']
        ant.properties['driverClass'] = project['driverClassName']
        ant.properties['connectionURL'] = project['url1001']
        ant.properties['userId'] = project['uname1001']
        ant.properties['password'] = project['password1001']
        ant.properties['src_main_java'] = project['mainUrl']
        ant.properties['src_main_resources'] = project['mainUrl']
        ant.properties['modelPackage'] = project['modelPackage']
        ant.properties['mapperPackage'] = project['mapperPackage']
        ant.properties['sqlMapperPackage'] = project['sqlMapperPackage']
        ant.properties['tableName'] = project['tableName']
        ant.properties['className'] = project['className']
        ant.taskdef(
                name: 'mbgenerator',
                classname: 'org.mybatis.generator.ant.GeneratorAntTask',
                classpath: configurations.mybatisGenerator.asPath
        )
        ant.mbgenerator(overwrite: true,
                configfile: 'src/generatorConfig.xml',
                verbose: true) {
            propertyset {
                propertyref(name: 'targetProject')
                propertyref(name: 'jarDirection')
                propertyref(name: 'userId')
                propertyref(name: 'driverClass')
                propertyref(name: 'connectionURL')
                propertyref(name: 'password')
                propertyref(name: 'src_main_java')
                propertyref(name: 'src_main_resources')
                propertyref(name: 'modelPackage')
                propertyref(name: 'mapperPackage')
                propertyref(name: 'sqlMapperPackage')
                propertyref(name: 'tableName')
                propertyref(name: 'className')
            }
        }
    }
}
